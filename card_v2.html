<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Thông tin tham dự</title>
  <style>
    :root{
      --brand:#0B5ED7;
      --accent:#C06000;
      --bg:#f6f8fb;
      --card:#ffffff;
      --text:#0f172a;
      --muted:#475569;
      --success:#14532d;
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:var(--text)}
    .wrap{max-width:720px;margin:0 auto;padding:24px}
    .card{background:var(--card);border-radius:16px;box-shadow:0 10px 30px rgba(2,6,23,.08);overflow:hidden}
    .head{background:linear-gradient(90deg,var(--brand),#4dabf7);padding:20px 24px;color:#fff}
    .name{font-size:28px;font-weight:900;letter-spacing:.2px;line-height:1.15}
    .role{margin-top:6px;color:#ffe8cc;font-weight:700}
    .body{padding:20px 24px}
    .row{display:flex;gap:12px;align-items:center;margin:10px 0;flex-wrap:wrap}
    .label{width:160px;min-width:160px;color:var(--muted);font-weight:600}
    .val{font-weight:700}
    .badge{display:inline-flex;align-items:center;gap:8px;background:#e7f1ff;color:#0b5ed7;padding:6px 10px;border-radius:999px;font-weight:800;font-size:12px}
    .raffle{margin:14px 0;padding:14px 16px;border:2px dashed var(--accent);border-radius:12px;background:#fff7ed}
    .raffle .cap{font-size:12px;color:#9a3412;font-weight:800;letter-spacing:.08em;text-transform:uppercase}
    .raffle .code{font-size:36px;font-weight:1000;letter-spacing:.06em;color:#7c2d12;line-height:1.1}
    .footer{padding:16px 24px;border-top:1px solid #eef2f7;color:#64748b;font-size:13px;display:flex;justify-content:space-between;flex-wrap:wrap;gap:8px}
    @media (max-width:520px){.label{width:120px;min-width:120px} .name{font-size:24px} .raffle .code{font-size:30px}}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <div class="head">
        <div class="name" id="name">Tên nhân sự</div>
        <div class="role" id="role">Chức danh</div>
      </div>
      <div class="body">
        <div class="row"><div class="label">STT</div><div class="val" id="stt">—</div></div>
        <div class="row"><div class="label">Số người thân đi kèm</div><div class="val" id="songuoi">—</div></div>
        <div class="raffle">
          <div class="cap">Mã dự thưởng (SĐT)</div>
          <div class="code" id="code">—</div>
        </div>
      </div>
      <div class="footer">
        <div>Quét bởi QR • Trang hiển thị nội bộ</div>
        <div class="badge" id="ts"></div>
      </div>
    </div>
  </div>
<script>
  function getParam(key){
    const u=new URL(window.location.href);
    return u.searchParams.get(key)||"";
  }
  function decodePlus(s){
    try{
      return decodeURIComponent((s||"").replace(/\+/g,'%20'));
    }catch(e){return s}
  }
  const stt=decodePlus(getParam('stt'));
  const ten=decodePlus(getParam('ten'));
  const role=decodePlus(getParam('chucdanh')||getParam('role'));
  const phone=(getParam('sdt')||getParam('phone')||"").replace(/\s+/g,'');
  const songuoi=decodePlus(getParam('songuoi')||getParam('nguoi')||getParam('so'));
  document.getElementById('stt').textContent=stt||'—';
  document.getElementById('name').textContent=ten||'—';
  document.getElementById('role').textContent=role||'';
  document.getElementById('code').textContent=phone||'—';
  document.getElementById('songuoi').textContent=songuoi||'—';
  document.getElementById('ts').textContent=new Date().toLocaleString();
  document.title = (ten?ten:'Thông tin tham dự') + (role?(' — '+role):'');
</script>
</body>
</html>
